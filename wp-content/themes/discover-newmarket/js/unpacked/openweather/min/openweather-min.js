!function($){$.fn.openWeather=function(e){if(!this.length)return this;var t={descriptionTarget:null,maxTemperatureTarget:null,minTemperatureTarget:null,windSpeedTarget:null,humidityTarget:null,sunriseTarget:null,sunsetTarget:null,placeTarget:null,iconTarget:".weather-icon",customIcons:null,units:"c",city:null,lat:null,lng:null,key:"056f91d9fb086fda7c9178a3b440bb5a",lang:"en",success:function(){},error:function(e){}},n=this,a=$(this),r;n.settings={},n.settings=$.extend({},t,e);var i=n.settings;r="//api.openweathermap.org/data/2.5/weather?lang="+i.lang,null!=i.city?r+="&q="+i.city.replace(" ",""):null!=i.lat&&null!=i.lng&&(r+="&lat="+i.lat+"&lon="+i.lng),null!=i.key&&(r+="&appid="+i.key);var l=function(e){var t=1e3*e,n=new Date(t),a=n.getHours();a>12&&(hoursRemaining=24-a,a=12-hoursRemaining);var r=n.getMinutes();r=r.toString(),r.length<2&&(r=0+r);var i=a+":"+r;return i};$.ajax({type:"GET",url:r,dataType:"jsonp",success:function(e){if("f"==i.units)var t=Math.round(1.8*(e.main.temp-273.15)+32)+"°F",n=Math.round(1.8*(e.main.temp_min-273.15)+32)+"°F",r=Math.round(1.8*(e.main.temp_max-273.15)+32)+"°F";else var t=Math.round(e.main.temp-273.15)+"°C",n=Math.round(e.main.temp_min-273.15)+"°C",r=Math.round(e.main.temp_max-273.15)+"°C";if(a.html(t),null!=i.minTemperatureTarget&&$(i.minTemperatureTarget).text(n),null!=i.maxTemperatureTarget&&$(i.maxTemperatureTarget).text(r),$(i.descriptionTarget).text(e.weather[0].description),null!=i.iconTarget&&null!=e.weather[0].icon){if(null!=i.customIcons){var u=e.weather[0].icon,s,g;g=u.indexOf("d")!=-1?"day":"night","01d"!=u&&"01n"!=u||(s="clear"),"02d"!=u&&"02n"!=u&&"03d"!=u&&"03n"!=u&&"04d"!=u&&"04n"!=u||(s="clouds"),"09d"!=u&&"09n"!=u&&"10d"!=u&&"10n"!=u||(s="rain"),"11d"!=u&&"11n"!=u||(s="storm"),"13d"!=u&&"13n"!=u||(s="snow"),"50d"!=u&&"50n"!=u||(s="mist");var o=i.customIcons+g+"/"+s+".png"}else var o="http://openweathermap.org/img/w/"+e.weather[0].icon+".png";$(i.iconTarget).attr("src",o)}if(null!=i.placeTarget&&$(i.placeTarget).text(e.name+", "+e.sys.country),null!=i.windSpeedTarget&&$(i.windSpeedTarget).text(Math.round(e.wind.speed)+" Mps"),null!=i.humidityTarget&&$(i.humidityTarget).text(e.main.humidity+"%"),null!=i.sunriseTarget){var m=l(e.sys.sunrise);$(i.sunriseTarget).text(m+" AM")}if(null!=i.sunsetTarget){var c=l(e.sys.sunset);$(i.sunsetTarget).text(c+" PM")}i.success.call(this)},error:function(e,t,n){i.error.call(this,t)}})}}(jQuery);